import { Meta, Story, Canvas } from "@storybook/addon-docs";
import Typography from "@iccc/typography";

export const CellContent = ({ children = "Grid cell" }) => (
  <div
    className="dhig-p-4"
    style={{ backgroundColor: "#eee", border: "1px dashed #666" }}
  >
    <Typography>{children}</Typography>
  </div>
);

<Meta title="Digital HIG/CSS and SASS/Utility CSS/Responsive/Flexbox" />

# Flexbox utility CSS

Digital HIG utility CSS provides a collection of flexbox classes based on [Tailwind CSS](https://tailwindcss.com/).

Note: Requires utility CSS to be present in the document. See [the CSS overview page](?path=/docs/iccc-css-and-sass-css-overview--page) for more details.

## Digital HIG ready

Utility CSS is responsive-design ready. The available classes are customized to match the breakpoint Figma specification, so refer to the [grid tokens page](/docs/iccc-theme-data-tokens-grid--page) to consult the available grid tokens, and [grid primitives page](/docs/iccc-theme-data-primitives-grid--page) for the full suite of grid-related options.

## How to use Tailwind CSS

Utility classes are generated with a `dhig-` prefix. Please use the Tailwind documentation and adjust classnames accordingly.

For example, in Tailwind docs:

`flex` display: flex;

Becomes:

```html
<div class="dhig-flex">This element will have display set to flex</div>
```

## Examples

A few selected examples and common use cases. Press the "Show code" button on the right of each example to view the implementation code. For full Tailwind CSS documentation, see links below.

### Fluid grid

How to arrange items that wrap in multiple rows, specifying each item's width.

<Canvas>
  <Story name="Fluid grid">
    <div className="dhig-flex dhig-flex-wrap">
      <div className="dhig-w-full">
        <CellContent>Full row width</CellContent>
      </div>
      <div className="dhig-w-1/2">
        <CellContent>Half row width</CellContent>
      </div>
      <div className="dhig-w-1/2">
        <CellContent>Half row width</CellContent>
      </div>
      <div className="dhig-w-full md:dhig-w-1/2 lg:dhig-w-1/4">
        <CellContent>
          Full row width, half in medium screens, and a quarter in large screens
        </CellContent>
      </div>
      <div className="dhig-w-full md:dhig-w-1/2 lg:dhig-w-1/4">
        <CellContent>
          Full row width, half in medium screens, and a quarter in large screens
        </CellContent>
      </div>
      <div className="dhig-w-full md:dhig-w-1/2 lg:dhig-w-1/4">
        <CellContent>
          Full row width, half in medium screens, and a quarter in large screens
        </CellContent>
      </div>
      <div className="dhig-w-full md:dhig-w-1/2 lg:dhig-w-1/4">
        <CellContent>
          Full row width, half in medium screens, and a quarter in large screens
        </CellContent>
      </div>
    </div>
  </Story>
</Canvas>

### Flexbox row

By default, items are positioned horizontally in the same direction as text.

<Canvas>
  <Story name="Flexbox row">
    <div className="dhig-flex dhig-flex-row">
      <CellContent />
      <CellContent />
      <CellContent />
    </div>
  </Story>
</Canvas>

### Flexbox column

Position items vertically.

<Canvas>
  <Story name="Flexbox column">
    <div className="dhig-flex dhig-flex-col">
      <CellContent />
      <CellContent />
      <CellContent />
    </div>
  </Story>
</Canvas>

### Flexbox direction responsive

Flex direction can change based on breakpoints.

<Canvas>
  <Story name="Flexbox direction responsive">
    <div className="dhig-flex dhig-flex-col md:dhig-flex-row">
      <CellContent />
      <CellContent />
      <CellContent />
    </div>
  </Story>
</Canvas>

### Flex grow

Specify a flex item to grow to fill any available space.

<Canvas>
  <Story name="Flexbox grow">
    <div className="dhig-flex">
      <div className="dhig-flex-grow">
        <CellContent>Grid cell grow</CellContent>
      </div>
      <CellContent />
      <CellContent />
    </div>
  </Story>
</Canvas>

### Responsive gutters

Digital HIG specifies responsive gutter values that can be implemented with `gap` classes.

<Canvas>
  <Story name="Gutters">
    <div className="dhig-flex dhig-gap-4 md:dhig-gap-5 lg:dhig-gap-6">
      <div className="dhig-flex-grow">
        <CellContent>Grid cell grow</CellContent>
      </div>
      <CellContent />
      <CellContent />
    </div>
  </Story>
</Canvas>

## Tailwind CSS documentation

| Module          | Documentation                                  | Description                                                           |
| --------------- | ---------------------------------------------- | --------------------------------------------------------------------- |
| Align content   | https://tailwindcss.com/docs/align-content     | How rows are positioned in multi-row flex containers                  |
| Align items     | https://tailwindcss.com/docs/align-items       | How flex items are positioned along a container's cross axis          |
| Align self      | https://tailwindcss.com/docs/align-self        | How an individual item is positioned along its container's cross axis |
| Display         | https://tailwindcss.com/docs/display           | The display box type of an element                                    |
| Flex            | https://tailwindcss.com/docs/flex              | How flex items both grow and shrink                                   |
| Flex direction  | https://tailwindcss.com/docs/flex-direction    | The direction of flex items                                           |
| Flex grow       | https://tailwindcss.com/docs/flex-grow         | How flex items grow                                                   |
| Flex shrink     | https://tailwindcss.com/docs/flex-shrink       | How flex items shrink                                                 |
| Flex wrap       | https://tailwindcss.com/docs/flex-wrap         | How flex items wrap                                                   |
| Fluid width     | https://tailwindcss.com/docs/width#fluid-width | How to set an element to a percentage based width                     |
| Gap             | https://tailwindcss.com/docs/gap               | Gutters between flexbox items                                         |
| Justify content | https://tailwindcss.com/docs/justify-content   | How flex items are positioned along a container's main axis           |
| Justify items   | https://tailwindcss.com/docs/justify-items     | How grid items are aligned along their inline axis                    |
| Justify self    | https://tailwindcss.com/docs/justify-self      | How an individual grid item is aligned along its inline axis          |
| Order           | https://tailwindcss.com/docs/order             | The order of flex items                                               |
| Space           | https://tailwindcss.com/docs/space             | The space between child elements                                      |
