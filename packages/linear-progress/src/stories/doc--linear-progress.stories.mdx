import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { componentArgs } from "../constants";
import {
  ComponentTitle,
  InstallationInstructions,
  VersionNotice
} from "../../../docs/src/partials";
import { name, peerDependencies, version } from "../../package.json";
import Box from "@mui/material/Box";
import LinearProgress, { LinearProgressLabel } from "../linear-progress";

<Meta
  args={{
    ...LinearProgress.defaultProps,
    value: 0,
    variant: "indeterminate"
  }}
  argTypes={componentArgs}
  component={LinearProgress}
  id="components/linear-progress"
  title="Digital HIG/Components/Linear progress"
  parameters={{
    docs: {
      source: {
        type: "code"
      }
    },
    vr: false
  }}
/>

<ComponentTitle name="Linear progress" status="Stable" />

<code>
  <VersionNotice packageName="linear-progress" version={version} />
</code>

The linear progress component is a thin wrapper around MUI [`<LinearProgress>`](https://mui.com/material-ui/react-progress/#linear), with Digital HIG defaults.

For related design documentation, please see the [Digital HIG Figma UI Toolkit](https://www.figma.com/file/Eks986gkqncHjkLnwQjO7g/iccc-sticker-sheets?node-id=4203%3A279994&t=iL4WgXwqDMZvxUAw-1).

## Installation

<InstallationInstructions
  componentImport="LinearProgress"
  name={name}
  peerDependencies={peerDependencies}
/>

## API

- For all supported MUI `<LinearProgress />` props, see [LinearProgress API](https://mui.com/material-ui/api/linear-progress/).

<Canvas>
  <Story
    name="API"
    parameters={{
      docs: {
        source: {
          type: "auto"
        }
      }
    }}
  >
    {(args) => <LinearProgress {...args} />}
  </Story>
</Canvas>

<ArgsTable story="API" />

## Linear progress variants

### Sizes

The linear progress component is available in sizes `small` and `medium`.

<Canvas>
  <Story name="Sizes">
    <LinearProgress />
    <Box py={3} />
    <LinearProgress size="medium" />
  </Story>
</Canvas>

### Variants

#### Indeterminate

The indeterminate variant shows that the wait time is unspecified. Linear progress is `indeterminate` by default.

##### Labels

The linear progress component can optionally display a label which appears beneath the component. Import `LinearProgressLabel` from `@mui/material/LinearProgress` and provide a string to the `label` prop to display a label.

`LinearProgressLabel` also accepts a `size` prop, which can be set to `"medium"` to display a larger label.

```jsx
import { LinearProgressLabel } from "@iccc/linear-progress";
```

<Canvas>
  <Story name="Indeterminate: labels">
    <LinearProgress>
      <LinearProgressLabel label="Indeterminate label" />
    </LinearProgress>
    <Box py={3} />
    <LinearProgress size="medium">
      <LinearProgressLabel label="Indeterminate label" size="medium" />
    </LinearProgress>
  </Story>
</Canvas>

#### Determinate

The determinate variant shows an estimated completion time of an operation.

The linear progress component may also be `determinate`, with the `variant` and `value` prop provided.

##### Labels

For the `determinate` linear progress variant, the percentage value will also be displayed with `variant="determinate"` on the `LinearProgressLabel` component. The `value` prop must be provided to display the percentage value.

<Canvas>
  <Story name="Determinate: labels">
    <LinearProgress variant="determinate" value={64}>
      <LinearProgressLabel
        variant="determinate"
        label="Determinate label"
        value={0}
      />
    </LinearProgress>
    <Box py={3} />
    <LinearProgress variant="determinate" size="medium" value={64}>
      <LinearProgressLabel
        variant="determinate"
        label="Determinate label"
        size="medium"
        value={64}
      />
    </LinearProgress>
  </Story>
</Canvas>

### Dark theme

<Canvas>
  <Story name="Dark theme" parameters={{ theme: "dark" }}>
    <LinearProgress>
      <LinearProgressLabel label="Indeterminate label" />
    </LinearProgress>
    <Box py={3} />
    <LinearProgress size="medium">
      <LinearProgressLabel label="Indeterminate label" size="medium" />
    </LinearProgress>
    <Box py={3} />
    <LinearProgress variant="determinate" value={64}>
      <LinearProgressLabel
        variant="determinate"
        label="Determinate label"
        value={0}
      />
    </LinearProgress>
    <Box py={3} />
    <LinearProgress variant="determinate" size="medium" value={64}>
      <LinearProgressLabel
        variant="determinate"
        label="Determinate label"
        size="medium"
        value={64}
      />
    </LinearProgress>
  </Story>
</Canvas>
