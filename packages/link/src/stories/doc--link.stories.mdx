import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import Link from "@mui/material/Link";
import { peerDependencies } from "../../package.json";
import {
  ComponentTitle,
  DarkThemeNotice,
  InstallationInstructions,
  MuiLink,
  VariantRangeNotice
} from "../../../docs/src/partials";
import Typography from "@iccc/typography";

<Meta
  args={{
    href: `https://www.autodesk.com?r=${Math.random()
      .toString(36)
      .substring(7)}`
  }}
  id="components/link"
  title="Digital HIG/Components/Link"
  component={Link}
/>

<ComponentTitle name="Link" status="Stable" />

<code>
  <MuiLink
    componentName="Link"
    link="https://mui.com/material-ui/react-link/"
  />
</code>

The link component is the out-of-the-box MUI [`<Link>`](https://mui.com/material-ui/react-link/), with Digital HIG defaults. It replaces [@iccc/text-link](/docs/components-text-link--page) which has been deprecated.

For related design documentation, please see the [Digital HIG Figma UI Toolkit](https://www.figma.com/file/Eks986gkqncHjkLnwQjO7g/iccc-sticker-sheets?node-id=4203%3A319624&t=iL4WgXwqDMZvxUAw-1).

## Installation

<InstallationInstructions
  peerDependencies={peerDependencies}
  componentImport="Link"
/>

## API

For all supported MUI `<Link />` props, see [Link API](https://mui.com/material-ui/api/link/).

The link component has different variants for each of the five link states: default, hover, focus, pressed, and visited. Use your mouse and or keyboard to try the different interactive states.

Please note, in order for component to display the correct typographic styles, it must be placed inside a container that provides typography props. See more information here https://mui.com/material-ui/react-link/#basic-links. In the examples below, all `<Link/>` instances are rendered inside a `<Typography/>` container.

<Canvas>
  <Story name="API">
    {(args) => (
      <Typography>
        <Link {...args}>Link</Link>
      </Typography>
    )}
  </Story>
</Canvas>

<ArgsTable story="API" />

## Text link variants

<VariantRangeNotice />

### Visited

A visited link will automatically display with a different style to communicate its state.

<Canvas>
  <Story name="Visited">
    {(args) => (
      <>
        <Typography>
          <Link {...args}>Unvisited link</Link>
        </Typography>
        <Typography>
          <Link {...args} href="">
            Visited link
          </Link>
        </Typography>
      </>
    )}
  </Story>
</Canvas>

### Disabled

Use the Digital HIG `disabled` prop to display a disabled link.

<Canvas>
  <Story name="Disabled">
    {(args) => (
      <Typography>
        <Link {...args} disabled tabIndex={-1}>
          Text link
        </Link>
      </Typography>
    )}
  </Story>
</Canvas>

### Declaring typographic styles

If the link needs to be displayed outside of a typography container, the MUI `variant` prop can be declared to assign the desired styles.

<Canvas>
  <Story name="Typography">
    {(args) => (
      <Link {...args} variant="body1">
        Standalone text link
      </Link>
    )}
  </Story>
</Canvas>

### No underline

Set the MUI `underline` prop to `none` to disable underlines.

<Canvas>
  <Story name="No underline">
    {(args) => (
      <Typography>
        <Link {...args} underline="none">
          Text link without underline
        </Link>
      </Typography>
    )}
  </Story>
</Canvas>

### Dark theme

<DarkThemeNotice />

<Canvas>
  <Story name="Dark theme" parameters={{ theme: "dark" }}>
    {(args) => (
      <>
        <Typography>
          <Link {...args}>Default text link</Link>
        </Typography>
        <Typography>
          <Link href="">Visited text link</Link>
        </Typography>
        <Typography>
          <Link {...args} disabled tabIndex={-1}>
            Disabled text link
          </Link>
        </Typography>
      </>
    )}
  </Story>
</Canvas>

## Accessibility

- For details about accessibility decorators for link, visit the [MUI Link Accessibility section](https://mui.com/material-ui/react-link/#accessibility).
- Ensure that links are distinguishable from the background and surrounding text. Use the dark theme to wrap the link component against dark backgrounds.

## Security

- For details about link security, visit the [MUI Link Security section](https://mui.com/material-ui/react-link/#security).
- To make the link component secure, always set `rel="noopener"` or `rel="noreferrer"` when linking to third party content if using `target="_blank"`.
