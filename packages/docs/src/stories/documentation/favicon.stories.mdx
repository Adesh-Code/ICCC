import { Meta } from "@storybook/addon-docs";

<Meta
  title="Digital HIG/Documentation/Usage/Favicon implementation"
  parameters={{
    viewMode: "docs",
    previewTabs: {
      canvas: { hidden: true }
    }
  }}
/>

# Favicon implementation example

This guide will help to implement a favicon inside our project for the best cross-browser support. We will need to include a few HTML tags along with some files (favicon.ico) that will need to be added at the root of our project.

## favicon.svg

The preferred format is `SVG`, however it is still not fully supported by all browsers, and for that, we will need to add a fallback in case it fails to load.
With `SVG` favicon, the fill color of the symbol will automatically change to light or dark depending on the color theme of the user's computer for better contrast. It is important for this `link` tag to be included after all the other favicon `link` tags, so browsers can give priority to it.<br />
`<link rel="icon" type="image/svg+xml" href="/favicon.svg"/>`

## favicon.png

The second preferred format is `PNG`, it should be included before our `SVG` `link` tag and have an `"alternate icon"` inside the `rel` attribute. This file will be used for browsers like Safari.<br />
`<link rel="alternate icon" type="image/png" href="/favicon.png">`

## site.webmanifest

A `site.webmanifest` will be useful to generate icons For Android devices. The file should be located preferably at the very root of our project.

## favicon.ico

For best cross-browser support, we can also include a `favicon.ico` file at the root of our project, however we should NOT explicitly include it as a `link` tag inside our HTML, otherwise most browsers will give it priority over all the other files regardless of its placement.

## Usage

```html
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Website title</title>

  <link
    rel="apple-touch-icon"
    href="https://damassets.autodesk.net/content/dam/autodesk/logos/autodesk-symbol-180x180.png"
  />
  <link
    rel="alternate icon"
    type="image/png"
    href="https://damassets.autodesk.net/content/dam/autodesk/logos/favicon.png"
  />
  <link
    rel="icon"
    type="image/svg+xml"
    href="https://damassets.autodesk.net/content/dam/autodesk/logos/autodesk-symbol-32x32.svg"
  />
  <link rel="manifest" href="/site.webmanifest" />
</head>
```

### webmanifest file

```json
{
  "name": "Autodesk",
  "icons": [
    {
      "src": "https://damassets.autodesk.net/content/dam/autodesk/logos/autodesk-symbol-192x192.png",
      "type": "image/png",
      "sizes": "192x192"
    },
    {
      "src": "https://damassets.autodesk.net/content/dam/autodesk/logos/autodesk-symbol-512x512.png",
      "type": "image/png",
      "sizes": "512x512"
    }
  ],
  "background_color": "#ffffff"
}
```

## Useful links

[Brand Reimagined: Dynamic Logo Activation](https://wiki.autodesk.com/pages/viewpage.action?spaceKey=MCT&title=Brand+Reimagined%3A+Dynamic+Logo+Activation)<br />
[Can I use](https://caniuse.com/?search=favicon.svg)<br />
[How to Favicon in 2021](https://dev.to/masakudamatsu/favicon-nightmare-how-to-maintain-sanity-3al7)<br />
[SVG, Favicons, and All the Fun Things We Can Do With Them](https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/)<br />
[How to detect if the OS is in dark mode in browsers?](https://stackoverflow.com/questions/50840168/how-to-detect-if-the-os-is-in-dark-mode-in-browsers)
