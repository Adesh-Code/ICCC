import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { componentArgs } from "../constants";
import {
  ComponentTitle,
  DarkThemeNotice,
  InstallationInstructions,
  VariantRangeNotice,
  VersionNotice
} from "../../../docs/src/partials";
import { name, peerDependencies, version } from "../../package.json";
import IconButtonComponent from "../icon-button";
import SvgIcon from "@mui/material/SvgIcon";
import SyncIcon from "@iccc/icon/lib/build/icons/sync";

export const IconButton = ({ ...otherProps }) => (
  <div style={{ padding: "8px 0" }}>
    <IconButtonComponent {...otherProps} />
  </div>
);

<Meta
  args={IconButtonComponent.defaultProps}
  argTypes={componentArgs}
  component={IconButtonComponent}
  id="components/icon-button"
  title="Digital HIG/Components/Icon button"
/>

<ComponentTitle name="Icon button" status="Stable" />

<code>
  <VersionNotice packageName="icon-button" version={version} />
</code>

The IconButton component is a thin wrapper around MUI [`<IconButton>`](https://mui.com/material-ui/api/icon-button/), with Digital HIG defaults.

For related design documentation, please see the [Digital HIG Figma UI Toolkit](https://www.figma.com/file/NpV47EII6zCxkpPoChejg0/%E2%9D%96-iccc-UI-toolkit?node-id=86%3A136).

## Installation

<InstallationInstructions
  componentImport="IconButton"
  name={name}
  peerDependencies={peerDependencies}
/>

## API

See the [Material UI icon button API](https://mui.com/material-ui/api/icon-button/) for all supported props.

<Canvas>
  <Story name="API">
    {(args) => (
      <IconButton {...args}>
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
    )}
  </Story>
</Canvas>

<ArgsTable story="API" />

## Icon button variants

<VariantRangeNotice />

### Full width

Accepts `fullWidth` which extends to 100% of the container width.

<Canvas>
  <Story name="Full width">
    <>
      <IconButton>
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton fullWidth>
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
    </>
  </Story>
</Canvas>

### Size options

Accepts `medium` (default) or `small`, which renders a slightly smaller button.

<Canvas>
  <Story name="Size options">
    <>
      <IconButton>
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton size="small">
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
    </>
  </Story>
</Canvas>

### Variants

Accepted variants are `contained` (default), `outlined` or `text`.

<Canvas>
  <Story name="Variant options">
    <>
      <IconButton>
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton variant="outlined">
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton variant="text">
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
    </>
  </Story>
</Canvas>

### Disabled state

<Canvas>
  <Story name="Disabled state">
    <IconButton disabled>
      <SvgIcon>
        <SyncIcon />
      </SvgIcon>
    </IconButton>
  </Story>
</Canvas>

### Render link as button

Per Material-UI: The URL to link to when the button is clicked. If defined, an a element will be used as the root node.

<Canvas>
  <Story name="Link">
    <IconButton href="#">
      <SvgIcon>
        <SyncIcon />
      </SvgIcon>
    </IconButton>
  </Story>
</Canvas>

### Accessibility

Use `titleAccess` on the embedded icon component. Refer to [SvgIcon component accessibility](/docs/components-svg-icon--accessibility) for more information.

<Canvas>
  <Story name="Accessibility">
    <IconButton href="#">
      <SvgIcon titleAccess="Click to sync">
        <SyncIcon />
      </SvgIcon>
    </IconButton>
  </Story>
</Canvas>

### Dark theme

<DarkThemeNotice />

<Canvas>
  <Story
    name="Dark theme"
    parameters={{
      theme: "dark"
    }}
  >
    <>
      <IconButton>
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton variant="outlined">
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton variant="text">
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
      <IconButton href="#">
        <SvgIcon>
          <SyncIcon />
        </SvgIcon>
      </IconButton>
    </>
  </Story>
</Canvas>
