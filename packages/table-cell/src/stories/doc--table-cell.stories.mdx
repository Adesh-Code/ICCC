import { Canvas, Meta, Story } from "@storybook/addon-docs";
import {
  ComponentTitle,
  InstallationInstructions,
  MuiLink,
  VariantRangeNotice
} from "../../../docs/src/partials";
import { peerDependencies } from "../../package.json";
import Box from "@mui/material/Box";
import EditMarkerLeft from "@iccc/icon/lib/build/icons/edit-marker-left";
import EditMarkerRight from "@iccc/icon/lib/build/icons/edit-marker-right";
import FormControl from "@mui/material/FormControl";
import FormHelperText from "@mui/material/FormHelperText";
import SvgError from "@iccc/icon/lib/build/display-icons/error";
import SvgIcon from "@mui/material/SvgIcon";
import Table from "@iccc/table";
import TableBody from "@mui/material/TableBody";
import TableCell from "@mui/material/TableCell";
import TableHead from "@iccc/table-head";
import TableRow from "@iccc/table-row";
import TextField from "@mui/material/TextField";

<Meta
  component={TableCell}
  id="components/table-cell"
  title="Digital HIG/Components/Table/Table cell"
/>

<ComponentTitle name="Table cell" status="Stable" />

<code>
  <MuiLink
    componentName="Table cell"
    link="https://mui.com/material-ui/api/table-cell/"
  />
</code>

The table cell component is the out-of-the-box MUI [`<TableCell>`](https://mui.com/material-ui/api/table-cell/), with Digital HIG defaults.

For related design documentation, please see the [Digital HIG Figma UI Toolkit](https://www.figma.com/file/NpV47EII6zCxkpPoChejg0/%E2%9D%96-iccc-UI-toolkit?node-id=9009%3A200194).

For usage of table cell in the context of `<Table />`, see [table component page](/docs/components-table--api).

## Installation

<InstallationInstructions
  peerDependencies={peerDependencies}
  componentImport="TableCell"
/>

## API

For all supported MUI `<TableCell />` props, see [TableCell API](https://mui.com/material-ui/api/table-cell/).

<Canvas>
  <Story name="API">
    <Table>
      <TableBody>
        <TableRow>
          <TableCell>Cell content</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </Story>
</Canvas>

## Variants

<VariantRangeNotice />

### Editable cell

Pass `variant="isEditing"` to `<TableCell />` to render the cell in editable state.

<Canvas>
  <Story name="Editable cell">
    <Table>
      <TableHead
        headCells={[
          { id: "name", label: "Name" },
          { id: "text value", label: "Text value" },
          { id: "numeric value", label: "Numeric value", align: "right" }
        ]}
      />
      <TableBody>
        <TableRow>
          <TableCell>Default State</TableCell>
          <TableCell variant="isEditing">
            <FormControl fullWidth>
              <TextField placeholder="Default" />
            </FormControl>
          </TableCell>
          <TableCell variant="isEditing" align="right">
            <FormControl fullWidth>
              <TextField type="number" placeholder="Default" />
            </FormControl>
          </TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </Story>
</Canvas>

### Editable error state

Pass `error` to both `<FormControl />` & `<TextField />` to render the cell in error state.

<Canvas>
  <Story name="Editable error state">
    <Table>
      <TableHead
        headCells={[
          { id: "name", label: "Name" },
          { id: "text value", label: "Text value" },
          { id: "numeric value", label: "Numeric value", align: "right" }
        ]}
      />
      <TableBody>
        <TableRow>
          <TableCell>Error State</TableCell>
          <TableCell variant="isEditing">
            <FormControl error fullWidth>
              <TextField error />
              <FormHelperText>
                <SvgIcon title="Error">
                  <SvgError />
                </SvgIcon>
                Error text sample
              </FormHelperText>
            </FormControl>
          </TableCell>
          <TableCell variant="isEditing" align="right">
            <FormControl error fullWidth>
              <TextField error />
              <FormHelperText>
                <SvgIcon title="Error">
                  <SvgError />
                </SvgIcon>
                Error text sample
              </FormHelperText>
            </FormControl>
          </TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </Story>
</Canvas>

### Hint text

<Canvas>
  <Story name="Hint text">
    <Table>
      <TableHead
        headCells={[
          { id: "name", label: "Name" },
          { id: "text value", label: "Text value" },
          { id: "numeric value", label: "Numeric value", align: "right" }
        ]}
      />
      <TableBody>
        <TableRow>
          <TableCell>Hint</TableCell>
          <TableCell>
            <Box component="span" mr={1} sx={{ verticalAlign: "middle" }}>
              Hint text
            </Box>
            <SvgIcon fontSize="large">
              <EditMarkerRight />
            </SvgIcon>
          </TableCell>
          <TableCell align="right">
            <SvgIcon fontSize="large">
              <EditMarkerLeft />
            </SvgIcon>
            <Box component="span" ml={1} sx={{ verticalAlign: "middle" }}>
              Hint text
            </Box>
          </TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </Story>
</Canvas>

### Disabled

Pass `disabled` to `<TextField />` to render the cell in disabled state.

<Canvas>
  <Story name="Disabled">
    <Table>
      <TableHead
        headCells={[
          { id: "name", label: "Name" },
          { id: "text value", label: "Text value" },
          { id: "numeric value", label: "Numeric value", align: "right" }
        ]}
      />
      <TableBody>
        <TableRow>
          <TableCell>Disabled</TableCell>
          <TableCell variant="isEditing">
            <FormControl fullWidth>
              <TextField disabled />
            </FormControl>
          </TableCell>
          <TableCell variant="isEditing">
            <FormControl fullWidth>
              <TextField disabled />
            </FormControl>
          </TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </Story>
</Canvas>
